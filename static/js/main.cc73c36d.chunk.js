(this["webpackJsonpcluster-bluff"]=this["webpackJsonpcluster-bluff"]||[]).push([[0],{45:function(e,t,n){e.exports=n.p+"static/media/bead-red.e18420d6.png"},46:function(e,t,n){e.exports=n.p+"static/media/bead-blue.b24fcca5.png"},47:function(e,t,n){e.exports=n.p+"static/media/bead-green.e8d39c17.png"},48:function(e,t,n){e.exports=n.p+"static/media/bead-red-flipped.4638fa0d.png"},49:function(e,t,n){e.exports=n.p+"static/media/bead-blue-flipped.9bc166ee.png"},50:function(e,t,n){e.exports=n.p+"static/media/bead-green-flipped.1522709d.png"},62:function(e,t,n){e.exports=n(75)},74:function(e,t,n){},75:function(e,t,n){"use strict";n.r(t);var a,r,c,o=n(0),l=n.n(o),i=n(6),u=n.n(i),s=n(108),d=n(78),m=n(102),p=n(103),f=n(99),b=n(111),E=n(7),j=n(56),y=n(16),O=n(45),g=n.n(O),h=n(46),v=n.n(h),w=n(47),C=n.n(w),S=n(48),x=n.n(S),k=n(49),q=n.n(k),B=n(50),F=n.n(B),z={none:"",Red:g.a,RedFlipped:x.a,Blue:v.a,BlueFlipped:q.a,Green:C.a,GreenFlipped:F.a},R=["Red","Blue","Green"];!function(e){e[e.Small=6]="Small",e[e.Medium=12]="Medium"}(a||(a={})),function(e){e[e.Small=4]="Small",e[e.Medium=12]="Medium"}(r||(r={})),function(e){e.Red="RedFlipped",e.Blue="BlueFlipped",e.Green="GreenFlipped",e.RedFlipped="RedFlipped",e.BlueFlipped="BlueFlipped",e.GreenFlipped="GreenFlipped",e.none="none"}(c||(c={}));var G=[{row:-1,col:0},{row:0,col:-1},{row:0,col:1},{row:1,col:0}],M={squares:[],size:a.Small},N=Object(y.b)({name:"board",initialState:M,reducers:{setSquareState:function(e,t){var n=t.payload,a=n.id,r=n.selectedColor;e.squares[a.row][a.col]=r},flipSquare:function(e,t){var n=t.payload,a=n.row,r=n.col;e.squares[a][r]+="Flipped"},setBoardSize:function(e,t){e.size=a[t.payload];for(var n=[],r=0;r<a[t.payload];r++){n.push([]);for(var c=0;c<a[t.payload];c++)n[r].push("none")}e.squares=n}}}),I=N.actions,P=I.setSquareState,A=(I.flipSquare,I.setBoardSize),W=function(e){return e.board.size},J=function(e){for(var t=e.board,n=[],a=0;a<t.size;a++){n.push([]);for(var r=0;r<t.size;r++)n[a].push(r+1+a*t.size)}return n},T=function(e){return function(t){var n=t.board;return n.squares.length>0?function(e,t){return G.reduce((function(n,a){var r={row:a.row+t.row,col:a.col+t.col};return function(e,t){var n=e.row,a=e.col;return n>=0&&a>=0&&n<t&&a<t}(r,e.size)&&"none"===e.squares[r.row][r.col]&&(n=!0),n}),!1)}(n,e)?n.squares[e.row][e.col]:c[n.squares[e.row][e.col]]:"none"}},$=N.reducer,D={amounts:{},selectedColor:"Red"},H=Object(y.b)({name:"beads",initialState:D,reducers:{selectColor:function(e,t){e.selectedColor=t.payload}},extraReducers:function(e){e.addCase(A,(function(e,t){R.forEach((function(n){e.amounts[n]=r[t.payload]})),e.selectedColor=D.selectedColor})).addCase(P,(function(e,t){e.amounts[e.selectedColor]-=1,0===e.amounts[e.selectedColor]&&R.forEach((function(t){0===e.amounts[e.selectedColor]&&e.amounts[t]>0&&(e.selectedColor=t)}))}))}}),K=H.actions.selectColor,L=function(e){return e.beads.selectedColor},Q=function(e){return e.beads.amounts},U=function(e){var t=e.beads;return Object.entries(t.amounts).reduce((function(e,t){return e.push.apply(e,Object(j.a)(Array(t[1]).fill(t[0]))),e}),[])},V=H.reducer,X=n(3),Y=Object(f.a)((function(){return Object(b.a)({bead:{width:function(e){return e.small?31:62},opacity:.6},selected:{opacity:1}})})),Z=l.a.memo((function(e){var t=e.state,n=e.selected,a=e.small,r=Y({small:a}),c=Object(E.c)(L),o=n||c===t;return"none"===t?l.a.createElement("div",null):l.a.createElement("img",{src:z[t],className:Object(X.a)(r.bead,o&&r.selected),alt:t})})),_=Object(f.a)((function(){return Object(b.a)({button:{padding:0}})})),ee=l.a.memo((function(){var e=_(),t=Object(E.b)(),n=Object(E.c)(U);return l.a.createElement(d.a,null,l.a.createElement(m.a,{container:!0,direction:"column",justify:"center",alignItems:"center"},n.map((function(n,a){return l.a.createElement(m.a,{item:!0,xs:6,key:a,onClick:function(){return t(K(n))}},l.a.createElement(p.a,{className:e.button},l.a.createElement(Z,{state:n,small:!0})))}))))})),te=n(104),ne=Object(f.a)((function(e){return Object(b.a)({square:{cursor:"pointer",textAlign:"center",width:62,height:64,"&:hover":{background:function(e){var t=e.selectedColor;return"url(".concat(z[t],") 0% 0% / ").concat(62,"px ").concat(62,"px no-repeat")}}}})})),ae=l.a.memo((function(e){var t=e.id,n=Object(E.b)(),a=Object(E.c)(L),r=Object(E.c)(T(t)),c=ne({selectedColor:a}),o=Object(E.c)(Q);return l.a.createElement(te.a,{variant:"outlined",size:"small",className:c.square,onClick:function(e){n(P({id:t,selectedColor:a}))},disabled:0===o[a]||"none"!==r},l.a.createElement(Z,{state:r,selected:!0}))})),re=n(55),ce=Object(re.a)({palette:{secondary:{light:"#ff4569",main:"#ff1744",dark:"#b2102f",contrastText:"#000"}}}),oe={turn:"Player 1",color:ce.palette.secondary.main},le=Object(y.b)({name:"player",initialState:oe,reducers:{},extraReducers:function(e){e.addCase(A,(function(e,t){e.turn=oe.turn,e.color=oe.color})).addCase(P,(function(e,t){"Player 1"===e.turn?(e.turn="Player 2",e.color=ce.palette.primary.main):(e.turn="Player 1",e.color=ce.palette.secondary.main)}))}}),ie=function(e){return e.player},ue=function(e){return e.player.color},se=le.reducer,de=Object(f.a)((function(e){return Object(b.a)({paper:{width:function(e){return 64*e.size},border:function(e){var t=e.color;return"solid 2px ".concat(t)},borderRadius:e.spacing(1)}})})),me=l.a.memo((function(){var e=Object(E.c)(W),t=Object(E.c)(ue),n=de({size:e,color:t}),a=Object(E.c)(J);return l.a.createElement(d.a,{className:n.paper},a.map((function(e,t){return l.a.createElement(m.a,{container:!0,key:t,justify:"center",alignItems:"center"},e.map((function(e,n){return l.a.createElement(m.a,{item:!0,key:n},l.a.createElement(ae,{id:{row:t,col:n}}))})))})))})),pe=n(57),fe=n(105),be=n(106),Ee=n(109),je=n(110),ye=n(54),Oe=n.n(ye),ge=Object(f.a)((function(e){return Object(b.a)({menuButton:{marginRight:e.spacing(2)},title:{flexGrow:1}})})),he=function(){var e=ge(),t=Object(E.b)(),n=l.a.useState(null),a=Object(pe.a)(n,2),r=a[0],c=a[1],o=Boolean(r),i=function(){c(null)},u=function(e){t(A(e)),i()};return l.a.createElement(fe.a,{position:"static"},l.a.createElement(be.a,null,l.a.createElement(p.a,{edge:"start",className:e.menuButton,color:"inherit","aria-label":"menu","aria-controls":"menu-appbar","aria-haspopup":"true",onClick:function(e){c(e.currentTarget)}},l.a.createElement(Oe.a,null)),l.a.createElement(Ee.a,{id:"menu-appbar",anchorEl:r,keepMounted:!0,open:o,onClose:i},l.a.createElement(je.a,{onClick:function(){return u("Small")}},"Small"),l.a.createElement(je.a,{onClick:function(){return u("Medium")}},"Medium"))))},ve=n(107),we=Object(f.a)((function(e){return Object(b.a)({player:{textAlign:"center",fontWeight:"bold",color:function(e){return e.color}},blue:{color:e.palette.primary.main},red:{color:e.palette.secondary.main}})})),Ce=function(){var e=Object(E.c)(ie),t=e.color,n=e.turn,a=we({color:t});return l.a.createElement(ve.a,{className:a.player,variant:"h6"},n)},Se=function(){var e=Object(E.b)();return l.a.useEffect((function(){e(A("Small"))}),[e]),l.a.createElement(s.a,{theme:ce},l.a.createElement(he,null),l.a.createElement(m.a,{container:!0,direction:"column",justify:"center",alignItems:"center",spacing:1},l.a.createElement(m.a,{item:!0},l.a.createElement(Ce,null)),l.a.createElement(m.a,{item:!0},l.a.createElement(m.a,{container:!0,spacing:1},l.a.createElement(m.a,{item:!0},l.a.createElement(ee,null)),l.a.createElement(m.a,{item:!0},l.a.createElement(me,null))))))},xe=Object(y.a)({reducer:{beads:V,board:$,player:se}});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));n(74);u.a.render(l.a.createElement(E.a,{store:xe},l.a.createElement(Se,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[62,1,2]]]);
//# sourceMappingURL=main.cc73c36d.chunk.js.map